# LTO 2.0 Bug Report Bot

Telegram-бот для автоматизации создания багрепортов с интеграцией внешних сервисов

[![Node.js](https://img.shields.io/badge/Node.js-18+-green.svg)](https://nodejs.org/)
[![Telegram](https://img.shields.io/badge/Telegram-Bot-blue.svg)](https://telegram.org/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

## Описание

LTO 2.0 Bug Report Bot - это Telegram-бот для автоматизации процесса создания багрепортов. Бот преобразует простые описания проблем в структурированные, детальные багрепорты для лазертаг приложения LTO 2.0.

## Ключевые возможности

### Автоматическая обработка багрепортов

- Преобразование текстовых описаний в структурированные отчеты
- Автоматическое дополнение недостающих полей
- Поддержка множественных источников обработки с fallback механизмом

### Интеграции

- **Google Sheets API** - Автоматическое сохранение багрепортов
- **Worksection** - Создание задач в системе управления проектами
- **Telegram Bot API** - Интерактивный интерфейс

### Функциональность

- **Одиночные багрепорты** - Создание отдельных отчетов
- **Массовая обработка** - Сканирование Google Sheets
- **Чек-листы** - Автоматическая обработка списков проблем
- **Проекты** - Управление множественными проектами

## Быстрый старт

### Требования

- Node.js 18+
- Python 3.8+ (для дополнительных сервисов)
- Telegram Bot Token

### Установка

1. **Клонируйте репозиторий**

```bash
git clone https://github.com/ForestSD/bugreport-google-sheets-project.git
cd bugreport-google-sheets-project
```

2. **Установите зависимости**

```bash
npm install
pip install -r g4f_requirements.txt
```

3. **Настройте переменные окружения**

Создайте файл `.env`:

```env
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
GOOGLE_SHEETS_API_KEY=your_google_sheets_api_key
OPENAI_API_KEY=your_openai_api_key
```

4. **Запустите сервисы**

```bash
# Запуск дополнительного Python сервера
start_g4f_server.bat

# Запуск основного бота
npm start
```

## Использование

### Основные команды

- `/start` - Начать работу с ботом
- `/help` - Справка по командам
- `/settings` - Настройки пользователя
- `/projects` - Управление проектами

### Создание багрепорта

1. Отправьте описание проблемы боту
2. Выберите действие из предложенных вариантов
3. При необходимости отредактируйте сгенерированный багрепорт
4. Отправьте в Worksection или сохраните в Google Sheets

### Массовая обработка

1. Поделитесь ссылкой на Google Sheets с ботом
2. Выберите столбцы для обработки
3. Бот автоматически обработает все строки с "Fail" или "Bug"

## Конфигурация

### Структура проекта

```
google-sheets-project/
├── bot.js # Точка входа
├── package.json # Node.js зависимости
├── .env # Переменные окружения
│
├── g4f_server.py # Python сервер
├── g4f_requirements.txt # Python зависимости
├── start_g4f_server.bat # Скрипт запуска
│
├── src/
│ ├── handlers/ # Обработчики событий
│ ├── services/ # Бизнес-логика
│ ├── api/ # Внешние API
│ ├── config/ # Конфигурация
│ └── keyboards/ # Telegram UI
│
└── automation/ # Скрипты автоматизации
```

### Настройка обработчиков

Бот поддерживает множественные методы обработки текста с автоматическим переключением между ними для обеспечения стабильности работы.

### Google Sheets API

1. Создайте проект в [Google Cloud Console](https://console.cloud.google.com/)
2. Включите Google Sheets API
3. Создайте API ключ
4. Добавьте ключ в `.env` файл

### Worksection Integration

Для интеграции с Worksection:

1. Добавьте учетные данные в настройках бота
2. Выберите проект для создания задач
3. Настройте автоматическое создание задач

## Безопасность

- Все конфиденциальные данные хранятся в `.env` файле
- Файл `credentials.json` добавлен в `.gitignore`
- Пароли пользователей шифруются перед сохранением
- Ограничения по частоте запросов для предотвращения спама

## Разработка

### Локальная разработка

```bash
# Режим разработки с автоперезагрузкой
npm run dev

# Запуск тестов
npm test

# Линтинг кода
npm run lint
```

### Добавление новых обработчиков

1. Создайте новый метод в `src/services/gptService.js`
2. Добавьте обработчик в цепочку fallback
3. Обновите конфигурацию в `src/config/config.js`

## Мониторинг

Бот включает базовый мониторинг:

- Логирование всех операций
- Отслеживание производительности обработчиков
- Статистика использования
- Уведомления об ошибках

## � Вклад в проект

1. Форкните репозиторий
2. Создайте ветку для новой функции
3. Внесите изменения
4. Создайте Pull Request

## Лицензия

Этот проект лицензирован под MIT License - см. файл [LICENSE](LICENSE) для подробностей.

## Поддержка

Если у вас возникли проблемы:

1. Проверьте [Issues](https://github.com/ForestSD/bugreport-google-sheets-project/issues)
2. Создайте новый Issue с подробным описанием
3. Свяжитесь с автором через Telegram

## Благодарности

- Telegram Bot API
- Google Sheets API
- Node.js community
- Python community

---

**Автор**: ForestSD 
**Версия**: 2.0 
**Последнее обновление**: Сентябрь 2025
